<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Fairmont Baku Spa - Virtual Concierge</title>
    <meta name="theme-color" content="#1a1a1a">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-gold: #c5a059; /* Fairmont Gold Tone */
            --primary-dark: #1a1a1a;
            --secondary-dark: #2c2c2c;
            --text-grey: #4a4a4a;
            --bg-cream: #f9f8f4;
            --chat-user: #c5a059;
            --chat-bot: #ffffff;
            --shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: var(--bg-cream);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Header --- */
        .header {
            background: var(--primary-dark);
            color: var(--primary-gold);
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 10;
        }

        .header-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .header-logo {
            font-family: 'Times New Roman', serif;
            font-size: 20px;
            font-weight: bold;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .header-subtitle {
            font-size: 10px;
            color: #fff;
            letter-spacing: 2px;
            opacity: 0.8;
            margin-top: 2px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background-color: #4ade80;
            border-radius: 50%;
            box-shadow: 0 0 5px #4ade80;
        }

        /* --- Chat Area --- */
        .chat-container {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMjAiIGN5PSIyMCIgcj0iMSIgZmlsbD0iI2M1YTA1OSIgZmlsbC1vcGFjaXR5PSIwLjEiLz48L3N2Zz4=');
            scroll-behavior: smooth;
        }

        .message {
            display: flex;
            flex-direction: column;
            max-width: 85%;
            animation: fadeIn 0.3s ease;
        }

        .message.bot {
            align-self: flex-start;
        }

        .message.user {
            align-self: flex-end;
            align-items: flex-end;
        }

        .message-bubble {
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
            position: relative;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .message.bot .message-bubble {
            background: var(--chat-bot);
            color: var(--secondary-dark);
            border-bottom-left-radius: 4px;
            border: 1px solid rgba(197, 160, 89, 0.2);
        }

        .message.user .message-bubble {
            background: var(--chat-user);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.bot .message-bubble a {
            color: #c5a059;
            text-decoration: none;
            font-weight: bold;
            border-bottom: 1px dotted #c5a059;
        }

        .message-time {
            font-size: 10px;
            color: #999;
            margin-top: 4px;
            padding: 0 4px;
        }

        /* --- Quick Actions (Chips) --- */
        .quick-actions-container {
            padding: 10px 15px;
            background: rgba(255,255,255,0.9);
            border-top: 1px solid rgba(0,0,0,0.05);
            white-space: nowrap;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; 
        }

        .quick-actions-container::-webkit-scrollbar {
            display: none;
        }

        .chips-wrapper {
            display: flex;
            gap: 8px;
        }

        .chip {
            background: white;
            border: 1px solid var(--primary-gold);
            color: var(--primary-gold);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
            flex-shrink: 0;
        }

        .chip:hover, .chip:active {
            background: var(--primary-gold);
            color: white;
        }

        /* --- Input Area --- */
        .input-area {
            background: white;
            padding: 15px;
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .input-field {
            flex: 1;
            border: 1px solid #e0e0e0;
            border-radius: 25px;
            padding: 12px 20px;
            font-size: 16px; /* Prevents zoom on iOS */
            outline: none;
            transition: border-color 0.3s;
            background: #fcfcfc;
        }

        .input-field:focus {
            border-color: var(--primary-gold);
        }

        .send-btn {
            background: var(--primary-gold);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: transform 0.2s;
            box-shadow: 0 2px 8px rgba(197, 160, 89, 0.4);
        }

        .send-btn:active {
            transform: scale(0.95);
        }

        /* --- Typing Indicator --- */
        .typing-indicator {
            display: none;
            padding: 15px 20px;
            background: white;
            border-radius: 18px;
            width: fit-content;
            margin-left: 20px;
            margin-bottom: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            border: 1px solid rgba(197, 160, 89, 0.2);
        }

        .dots {
            display: flex;
            gap: 4px;
        }

        .dot {
            width: 6px;
            height: 6px;
            background: var(--primary-gold);
            border-radius: 50%;
            animation: bounce 1.4s infinite ease-in-out;
        }

        .dot:nth-child(1) { animation-delay: -0.32s; }
        .dot:nth-child(2) { animation-delay: -0.16s; }

        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Social & Contact Bar --- */
        .info-bar {
            background: var(--secondary-dark);
            color: white;
            padding: 8px;
            display: flex;
            justify-content: center;
            gap: 20px;
            font-size: 12px;
        }
        
        .info-link {
            color: #ccc;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .info-link:hover {
            color: var(--primary-gold);
        }

    </style>
</head>
<body>

    <div class="header">
        <div class="header-info">
            <div>
                <div class="header-logo">FAIRMONT SPA</div>
                <div class="header-subtitle">BAKU FLAME TOWERS</div>
            </div>
        </div>
        <div class="status-dot"></div>
    </div>

    <div class="info-bar">
        <a href="tel:+994125654846" class="info-link"><i class="fas fa-phone"></i> ZÉ™ng</a>
        <a href="https://wa.me/994512063737" target="_blank" class="info-link"><i class="fab fa-whatsapp"></i> WhatsApp</a>
        <a href="https://www.instagram.com/fairmontspabaku/" target="_blank" class="info-link"><i class="fab fa-instagram"></i> Instagram</a>
    </div>

    <div class="chat-container" id="chatBox">
        <!-- Messages will appear here -->
    </div>

    <div class="typing-indicator" id="typing">
        <div class="dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>

    <div class="quick-actions-container">
        <div class="chips-wrapper">
            <div class="chip" onclick="handleChip('Masajlar')"><i class="fas fa-spa"></i> Masajlar</div>
            <div class="chip" onclick="handleChip('GÃ¼nlÃ¼k GiriÅŸ')"><i class="fas fa-ticket-alt"></i> GiriÅŸ</div>
            <div class="chip" onclick="handleChip('ÃœzvlÃ¼k')"><i class="fas fa-gem"></i> ÃœzvlÃ¼k</div>
            <div class="chip" onclick="handleChip('Rezervasiya')"><i class="far fa-calendar-check"></i> Rezerv</div>
            <div class="chip" onclick="handleChip('HÉ™diyyÉ™ KartÄ±')"><i class="fas fa-gift"></i> HÉ™diyyÉ™</div>
            <div class="chip" onclick="handleChip('Ãœnvan')"><i class="fas fa-map-marker-alt"></i> Ãœnvan</div>
        </div>
    </div>

    <div class="input-area">
        <input type="text" class="input-field" id="userInput" placeholder="SualÄ±nÄ±zÄ± yazÄ±n..." onkeypress="handleEnter(event)">
        <button class="send-btn" onclick="sendMessage()"><i class="fas fa-paper-plane"></i></button>
    </div>

    <script>
        // --- Data Knowledge Base (AZ + TR Keywords) ---
        const spaData = {
            general: {
                greeting: "Salam! Fairmont Baku **Carol Joy Spa**-nÄ±n virtual kÃ¶mÉ™kÃ§isiyÉ™m. âœ¨\n\nSizÉ™ massajlar, gÃ¼nlÃ¼k giriÅŸ, Ã¼zvlÃ¼k vÉ™ ya hÉ™diyyÉ™ kartlarÄ± barÉ™dÉ™ mÉ™lumat verÉ™ bilÉ™rÉ™m. NÉ™dÉ™n baÅŸlayaq?",
                fallback: "Bu sual barÉ™dÉ™ dÉ™qiq mÉ™lumatÄ±m yoxdur. ZÉ™hmÉ™t olmasa aÅŸaÄŸÄ±dakÄ± mÃ¶vzulardan birini seÃ§in vÉ™ ya bizimlÉ™ birbaÅŸa É™laqÉ™ saxlayÄ±n:\n\nğŸ’¬ <a href='https://wa.me/994512063737' target='_blank'>WhatsApp DÉ™stÉ™k</a>"
            },
            facilities: {
                // TR/AZ: Hamam, sauna, hovuz, havuz, buhar
                keywords: ["hamam", "hammam", "sauna", "buxar", "steam", "hovuz", "pool", "havuz", "jakuzzi", "jacuzzi", "buhar", "kese", "kÃ¶pÃ¼k", "kopuk", "spa var mi", "hamam var mi"],
                text: "ğŸ› **Spa ObyektlÉ™ri (Facilities):**\n\nâœ… **TÃ¼rk HamamÄ±:** Regionun É™n bÃ¶yÃ¼k TÃ¼rk HamamÄ±.\nâœ… **Sauna & Buxar:** Fin saunasÄ±, Buxar otaÄŸÄ± vÉ™ Buz fÉ™vvarÉ™si.\nâœ… **Hovuz:** Daxili mozaika hovuz vÉ™ Vitality (hidromasaj) hovuzu.\n\n*Qeyd:* Hamam vÉ™ hovuz istifadÉ™si gÃ¼nlÃ¼k giriÅŸÉ™ vÉ™ ya hÉ™r hansÄ± masaj rezervasiyasÄ±na daxildir."
            },
            gender_policy: {
                // TR: KadÄ±n, erkek, ayrÄ± mÄ±, karÄ±ÅŸÄ±k mÄ±
                keywords: ["qadÄ±n", "kiÅŸi", "xanÄ±m", "bÉ™y", "ayrÄ±", "women", "men", "cins", "gender", "qarÄ±ÅŸÄ±q", "birgÉ™", "qadin", "kisi", "bayan", "erkek", "ayrimi", "karisik", "birlikte"],
                text: "ğŸ‘¥ **QadÄ±n vÉ™ KiÅŸi SaatlarÄ±:**\n\nFairmont Spa mÉ™rkÉ™zindÉ™ qadÄ±n vÉ™ ya kiÅŸi saatÄ±/gÃ¼nÃ¼ tÉ™tbiqi **yoxdur**.\n\nâœ… Fitness, qapalÄ± hovuz vÉ™ digÉ™r bÃ¼tÃ¼n sahÉ™lÉ™rimiz **Ã¼mumi** istifadÉ™ Ã¼Ã§Ã¼ndÃ¼r.\n\nğŸš¿ Lakin, spa mÉ™rtÉ™bÉ™sindÉ™ki soyunub-geyinmÉ™ otaÄŸÄ±nda yerlÉ™ÅŸÉ™n sauna vÉ™ buxar otaÄŸÄ± sahÉ™lÉ™ri qadÄ±nlar vÉ™ kiÅŸilÉ™r Ã¼Ã§Ã¼n **ayrÄ±dÄ±r**."
            },
            treatments: {
                // TR: Masaj, bakÄ±m, fiyat, ne var
                keywords: ["masaj", "massage", "facial", "Ã¼z", "bÉ™dÉ™n", "xidmÉ™t", "menu", "menyu", "prosedur", "terapiya", "msaj", "masj", "bakim", "vucut", "yuz", "hizmet", "neler", "cesit"],
                text: "ğŸ’†â€â™€ï¸ **Masaj vÉ™ Prosedurlar:**\n\nBÃ¼tÃ¼n masaj nÃ¶vlÉ™ri vÉ™ xidmÉ™t menyusu Ã¼Ã§Ã¼n aÅŸaÄŸÄ±dakÄ± linkÉ™ keÃ§id edin:\n\nğŸ”— <a href='https://linktr.ee/Fairmontspa' target='_blank'>XidmÉ™t Menyusu (Linktree)</a>\n\nSpa proseduru aldÄ±ÄŸÄ±nÄ±z zaman Spa sahÉ™sindÉ™n istifadÉ™ Ã¶dÉ™niÅŸsizdir."
            },
            membership: {
                // TR: Ãœyelik, aidat, ne kadar, ucret, paket
                keywords: ["Ã¼zv", "membership", "aylÄ±q", "illik", "qiymÉ™t", "paket", "price", "member", "quartz", "silver", "gold", "uyelik", "uzv", "abunÉ™", "ucret", "fiyat", "kac", "ne kadar", "kaÃ§a"],
                text: "ğŸ’ **ÃœzvlÃ¼k NÃ¶vlÉ™ri:**\n\nğŸ”¹ **Quartz:** YalnÄ±z qrup dÉ™rslÉ™rini ehtiva edir.\n\nğŸ”¹ **Silver Lite:** 06:30 - 17:00 arasÄ± istifadÉ™. (QapalÄ± hovuz, sauna, buxar, cakuzi, fitness vÉ™ qrup dÉ™rslÉ™ri). *Qeyd: AÃ§Ä±q hovuz daxil deyil.*\n\nğŸ”¹ **Gold vÉ™ Diamond:** 24 saat giriÅŸ + AÃ§Ä±q hovuz daxildir.\n\nğŸ”— <a href='https://linktr.ee/Fairmontspa' target='_blank'>PaketlÉ™r haqqÄ±nda É™traflÄ±</a>\n\nÃœstÃ¼nlÃ¼klÉ™r Ã¼Ã§Ã¼n canlÄ± dÉ™stÉ™k:\nğŸ’¬ <a href='https://wa.me/994512063737' target='_blank'>WhatsApp (+994 51 206 37 37)</a>"
            },
            daily_entry: {
                // TR: GiriÅŸ Ã¼creti, gÃ¼nlÃ¼k, kaÃ§ para
                keywords: ["giriÅŸ", "gunluk", "gÃ¼nlÃ¼k", "qiymÉ™t", "price", "Ã¶dÉ™niÅŸ", "nÉ™ qÉ™dÉ™r", "entry", "day pass", "giris", "neciye", "kac para", "ucreti", "gunlugu"],
                text: "ğŸŸï¸ **GÃ¼nlÃ¼k GiriÅŸ QiymÉ™tlÉ™ri:**\n\nâ€¢ HÉ™ftÉ™ iÃ§i: **65 AZN**\nâ€¢ HÉ™ftÉ™ sonu vÉ™ bayramlar: **75 AZN**\n\nâœ… **QiymÉ™tÉ™ daxildir:** Soyunma dolabÄ±, dÉ™smal, baÅŸmaq, xalat, qapalÄ± hovuz, cakuzi, sauna, buxar otaÄŸÄ± vÉ™ istirahÉ™t zonalarÄ±.\n\nğŸ’¡ *Qeyd:* HÉ™r hansÄ± SPA masajÄ± sifariÅŸ etdikdÉ™ giriÅŸ Ã¶dÉ™niÅŸsizdir."
            },
            reservation: {
                // TR: Randevu, yer ayÄ±rt, rezervasyon
                keywords: ["rezerv", "reservation", "sifariÅŸ", "booking", "online", "onlayn", "yer", "randevu", "rezervasyon", "ayirt", "book"],
                text: "ğŸ“… **Rezervasiya:**\n\nOnlayn rezervasiya Ã¼Ã§Ã¼n:\nğŸŒ <a href='https://emea.spatime.com/fhb11006/6298603/offering?types=1,0,4,8,16' target='_blank'>Onlayn SifariÅŸ Linki</a>\n\nSÃ¼rÉ™tli rezervasiya Ã¼Ã§Ã¼n CanlÄ± DÉ™stÉ™k:\nğŸ’¬ <a href='https://wa.me/994512063737' target='_blank'>WhatsApp (+994 51 206 37 37)</a>"
            },
            gift: {
                // TR: Hediye, kart
                keywords: ["hÉ™diyyÉ™", "gift", "kart", "card", "hediyye", "hediye", "armagan"],
                text: "ğŸ **HÉ™diyyÉ™ KartlarÄ±:**\n\nSevdiklÉ™rinizÉ™ mÃ¼É™yyÉ™n mÉ™blÉ™ÄŸdÉ™ balans vÉ™ ya xÃ¼susi bir prosedur (menyudan seÃ§ilÉ™n) hÉ™diyyÉ™ edÉ™ bilÉ™rsiniz.\n\nâ€¢ Onlayn Ã¶dÉ™niÅŸ mÃ¼mkÃ¼ndÃ¼r.\nâ€¢ Kuryer ilÉ™ Ã§atdÄ±rÄ±lma var.\n\nSifariÅŸ Ã¼Ã§Ã¼n: <a href='https://wa.me/994512063737' target='_blank'>WhatsApp ilÉ™ É™laqÉ™</a>"
            },
            training: {
                // TR: Ã–zel ders, hoca, antrenÃ¶r
                keywords: ["pt", "personal", "ferdi", "mÉ™ÅŸq", "idman", "training", "coach", "mesq", "mesqci", "ozel", "ders", "hoca", "antrenor"],
                text: "ğŸ‹ï¸â€â™‚ï¸ **FÉ™rdi MÉ™ÅŸq (Personal Training):**\n\nPeÅŸÉ™kar mÉ™ÅŸqÃ§ilÉ™rimizlÉ™ fÉ™rdi dÉ™rslÉ™r mÃ¶vcuddur. ÆtraflÄ± mÉ™lumat Ã¼Ã§Ã¼n bizi yÃ¶nlÉ™ndirin:\n\nğŸ’¬ <a href='https://wa.me/994512063737' target='_blank'>WhatsApp DÉ™stÉ™k</a>"
            },
            contact: {
                // TR: Nerede, adres, telefon, konum, whatsapp
                keywords: ["É™laqÉ™", "contact", "tel", "nÃ¶mrÉ™", "Ã¼nvan", "location", "yer", "adres", "harda", "harada", "zÉ™ng", "zeng", "nerede", "konum", "iletisim", "whatsapp", "watsap", "wp"],
                text: "ğŸ“ **Ãœnvan vÉ™ ÆlaqÉ™:**\n\nğŸ“± **WhatsApp:** <a href='https://wa.me/994512063737' target='_blank'>+994 51 206 37 37</a> (CanlÄ± DÉ™stÉ™k)\n\nğŸ“ **Tel:** +994 12 565 48 46\n\nğŸ“ **Ãœnvan:** Fairmont Baku Hotel, 5-ci mÉ™rtÉ™bÉ™.\nğŸ—ºï¸ <a href='https://share.google/xlfZYYLqsuMiQ3txk' target='_blank'>Google Maps-dÉ™ aÃ§</a>"
            }
        };

        // --- Core Functions ---

        function initChat() {
            setTimeout(() => {
                addMessage(spaData.general.greeting, 'bot');
            }, 500);
        }

        function handleEnter(e) {
            if (e.key === 'Enter') sendMessage();
        }

        function handleChip(text) {
            document.getElementById('userInput').value = text;
            sendMessage();
        }

        function sendMessage() {
            const input = document.getElementById('userInput');
            const text = input.value.trim();
            
            if (text === "") return;

            // Add user message
            addMessage(text, 'user');
            input.value = "";

            // Show typing indicator
            const typing = document.getElementById('typing');
            typing.style.display = 'block';
            
            // Scroll to bottom
            const chatBox = document.getElementById('chatBox');
            chatBox.scrollTop = chatBox.scrollHeight;

            // Process response
            setTimeout(() => {
                typing.style.display = 'none';
                const response = getBotResponse(text);
                addMessage(response, 'bot');
            }, 800); 
        }

        function addMessage(text, sender) {
            const chatBox = document.getElementById('chatBox');
            const msgDiv = document.createElement('div');
            msgDiv.className = `message ${sender}`;
            
            const time = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            // Convert simple markdown-like syntax to HTML
            let formattedText = text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                .replace(/\n/g, '<br>'); // Line breaks

            msgDiv.innerHTML = `
                <div class="message-bubble">${formattedText}</div>
                <div class="message-time">${time}</div>
            `;
            
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        // --- Intelligent Matching Logic (Fuzzy Search) ---

        // Levenshtein distance
        function levenshteinDistance(a, b) {
            if (a.length === 0) return b.length;
            if (b.length === 0) return a.length;

            var matrix = [];
            var i;
            for (i = 0; i <= b.length; i++) {
                matrix[i] = [i];
            }
            var j;
            for (j = 0; j <= a.length; j++) {
                matrix[0][j] = j;
            }
            for (i = 1; i <= b.length; i++) {
                for (j = 1; j <= a.length; j++) {
                    if (b.charAt(i - 1) == a.charAt(j - 1)) {
                        matrix[i][j] = matrix[i - 1][j - 1];
                    } else {
                        matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, 
                                                Math.min(matrix[i][j - 1] + 1, 
                                                         matrix[i - 1][j] + 1)); 
                    }
                }
            }
            return matrix[b.length][a.length];
        }

        // Check if input is similar to keyword
        function isSimilar(inputWord, keyword) {
            const distance = levenshteinDistance(inputWord, keyword);
            const maxLength = Math.max(inputWord.length, keyword.length);
            const similarity = 1 - (distance / maxLength);
            
            // More forgiving thresholds
            if (keyword.length <= 4) return similarity > 0.75; 
            return similarity > 0.60; 
        }

        function getBotResponse(input) {
            const lowerInput = input.toLowerCase();
            // Remove punctuation for better matching
            const cleanInput = lowerInput.replace(/[.,\/#!$%\^&\*;:{}=\-_`~()]/g,"");
            const words = cleanInput.split(/\s+/);

            let bestMatch = null;
            let highestScore = 0;

            for (const key in spaData) {
                if (key === 'general') continue;
                
                const category = spaData[key];
                let categoryScore = 0;

                for (const keyword of category.keywords) {
                    // 1. Direct match
                    if (lowerInput.includes(keyword)) {
                        categoryScore += 10; 
                    }

                    // 2. Fuzzy match word-by-word
                    for (const word of words) {
                        if (isSimilar(word, keyword)) {
                            categoryScore += 3;
                        }
                    }
                }

                if (categoryScore > highestScore) {
                    highestScore = categoryScore;
                    bestMatch = category.text;
                }
            }

            // Conversational / Greetings
            if (["salam", "merhaba", "slm", "hello", "hi", "naber", "nasilsin"].some(w => lowerInput.includes(w))) {
                return "Salam! ğŸ‘‹ SizÉ™ Spa xidmÉ™tlÉ™rimiz haqqÄ±nda necÉ™ kÃ¶mÉ™k edÉ™ bilÉ™rÉ™m?";
            }
            if (["sag ol", "tesekkur", "tamam", "ok", "tÅŸk", "teÅŸekkÃ¼r"].some(w => lowerInput.includes(w))) {
                return "Buyurun! ğŸŒŸ Fairmont Spa-nÄ± seÃ§diyiniz Ã¼Ã§Ã¼n tÉ™ÅŸÉ™kkÃ¼rlÉ™r.";
            }

            // Return best match if score is sufficient
            if (highestScore > 0) {
                return bestMatch;
            }

            return spaData.general.fallback;
        }

        window.onload = initChat;

    </script>
</body>
</html>